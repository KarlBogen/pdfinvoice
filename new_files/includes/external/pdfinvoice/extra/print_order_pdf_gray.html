{config_load file="$language/lang_$language.conf" section="print_order"}
{config_load file="../lang/lang_`$language`.pdf_strings"}
{if $override === true}
{config_load file="../lang/lang_`$language`.pdf_override"}
{/if}
{literal}
<style type="text/css">

*{margin:0;  padding:0;}

/* PDF Header */
table.page_header {width: 200mm; font-size: 12px; color: #8b8b8b;}
table.page_header td {width: 100%; vertical-align: bottom; text-align: right;}

/* PDF Footer */
table.page_footer {width: 180mm; border-top: 1px solid #222; vertical-align: top; font-size: 10px; line-height: 14px; padding-bottom: 3px;margin-left:15mm;}
table.page_footer td {width: 25%; padding-top: 3px;}

/* PDF Logo */
.header {position:absolute; top: -32px; left: -20mm; height: 10mm; width: 220mm;line-height:10mm; vertical-align: middle;}
.header span {font-size: 24px; margin-left:20mm;}
.logo {position:absolute; top: -55px; right: 0; padding: 0 10px; border-style: solid; border-width: 5px; border-radius: 5mm; -moz-border-radius: 5mm;}

.gray .header {background: #f4f4f4;}
.gray .header span {color: #222;}
.gray .logo {background: #fff;border-color: #999;}
.gray table.order_table .headerrow {background: #f4f4f4;}

/* PDF Falz- und Lochermarken */
.marker{position:absolute; left:-18mm;  height:1px;  line-height:1px;  margin:0;  padding:0;  display:block;  border-bottom:solid 1px #ccc;  background-color:transparent; width:5mm;}
.mark1{top:80mm;}
.mark2{top:128mm;}
.mark3{top:183mm;}

/* PDF Infoblock Bestellnummer, Datum, ... */
.invoice_info{position:absolute;top:70px;right:0;width:48%;}
.invoice_info_head{text-align:center;background-color:#f4f4f4;padding:10px;}
.invoice_info_text{background-color:#f4f4f4;margin-top:2px;padding:5px;line-height:2;}

/* PDF Adressblock */
.invoice_adress{position:absolute;top:100px;left:0;width:48%;}
.invoice_adress_headline{font-size:10px;text-decoration:underline;}
.invoice_adress_text{font-size:14px;padding-top:5px;}

/* PDF Überschrift */
.invoice-heading {margin-top:300px;margin-bottom:15px;font-size:24px;font-weight:bold;}

/* PDF Artikel- und Summenblock */
table.order_table,table.total_table{font-size:13px;  line-height:19px;  width:100%;}
table.order_table{margin-top: 20px;}
table.total_table td, table.order_table th {vertical-align: top; padding: 6px;}
table.order_table .mainrow td {border-top: 1px solid #ccc; padding:10px 6px; vertical-align:top;}
/* PDF Artikel- und Summenblock - Zellweiten */
table.order_table .col1 {width: 8%;}
table.order_table .col2 {width: 42%;}
table.order_table .col3 {width: 17%;}
table.order_table .col4 {width: 16%;}
table.order_table .col5, table.total_table .col2 {width: 17%;}
table.order_table .col3-5 {width: 50%;}
table.total_table .col1 {width: 83%;}
table.total_table {border-bottom: 4px double #ccc;}
/* PDF Artikel- und Summenblock - Text-Ausrichtung */
.color_ot_total{color:#A94442;}
.ord_table_center{text-align:center;}
.ord_table_left{text-align:left;}
.ord_table_right{text-align:right;}
.ord_table_center{text-align:center;}
/* PDF Artikel- und Summenblock - Attribute */
ul.attributes_list{list-style-type:disc; font-size:12px; font-style:italic;margin: -15px;}
ul.attributes_list li{padding: 3px;}

/* PDF Trennlinie */
div.hr_5{height:1px;  line-height:1px;  margin:5px 0px;  padding:0;  display:block;  border-bottom:solid 1px #ccc;  background-color:transparent;  width:100%;}

/* PDF QR-Codes */
table.qrcodes{font-size:13px;  line-height:19px;  width:100%;}
div.qr p {font-size:10px;margin:5px 0;text-align: center;}
div.qr {font-size:10px;text-align: center;}

/* PDF Hilfsklassen */
.mt-20 {margin-top: 20px;}
.mt-10 {margin-top: 10px;}

/* PDF Infos zur Zahlungsart */
.paymentinfotable .title {margin-bottom: 5px;}

</style>
{/literal}
<page class="gray" backtop="10mm" backleft="20mm" backright="15mm" backbottom="26mm" style="font-size: 14px; background:#fff none; color:#222;line-height:1.3;">

  {* BOF html2pdf Header wird auf jeder Seite angezeigt *}
  <page_header>
    <table class="page_header">
      <tr>
        <td>{#text_pdfinvoice_seite#} [[page_cu]] {#text_pdfinvoice_seite_von#} [[page_nb]]</td>
      </tr>
    </table>
  </page_header>
  {* EOF html2pdf Header wird auf jeder Seite angezeigt *}

  {* BOF html2pdf Footer wird auf jeder Seite angezeigt *}
  <page_footer>
    <table class="page_footer">
      <tr>
        <td>{#text_pdf_anschrift#}</td>
        <td>{#text_pdf_kontakt#}</td>
        <td>{#text_pdf_bank#}</td>
        <td>{#text_pdf_geschaeft#}</td>
      </tr>
    </table>
  </page_footer>
  {* EOF html2pdf Footer wird auf jeder Seite angezeigt *}

  {* BOF Logo wird absolute positioniert *}
          <div class="header">
            <span>{$smarty.const.STORE_NAME}</span>
          </div>
  <div class="logo"><img src="{$logo_path}logo_invoice.png" alt="{$smarty.const.STORE_NAME}" /></div>
  {* EOF Logo wird absolute positioniert *}

  {* BOF Falz- und Lochermarken werden absolute positioniert *}
  <div class="marker mark1"></div>
  <div class="marker mark2"></div>
  <div class="marker mark3"></div>
  {* EOF Rechnungsadresse wird absolute positioniert *}

  {* BOF Rechnungsadresse wird absolute positioniert *}
  <div class="invoice_adress">
    <div class="invoice_adress_headline">{#text_pdf_shopadresseklein#}</div>
    <div class="invoice_adress_text">{$address_label_customer}</div>
  </div>
  {* EOF Rechnungsadresse wird absolute positioniert *}

  {* BOF Rechnunghinweise werden fixed positioniert *}
  <div class="invoice_info">
    <div class="invoice_info_head"><strong>{#invoice#}</strong></div>
    <div class="invoice_info_text">
      {if isset($INVOICE_NUMBER) && $INVOICE_NUMBER != '' }
      <strong>{#invoice_number#}</strong> {$INVOICE_NUMBER}<br>
      <strong>{#invoice_date#}</strong> {$INVOICE_DATE}<br>
      {/if}
      {if $csID}<strong>{#csID#}</strong> {$csID}<br>{/if}
      {if $vatID}<br><strong>{#vatID#}</strong> {$vatID}{/if}
    </div>
  </div>
  {* EOF Rechnunghinweise werden fixed positioniert *}

  {* BOF Überschrift und Anrede *}
  <div class="invoice-heading">{#invoice#}</div>
  <div class="invoice_text">
    <table cellspacing="5px" style="width: 100%;">
      <tr>
        <td style="width: 80%;">{#order#}<strong> {$oID}</strong></td>
        <td style="width: 20%; text-align: right;">{#date#}<strong> {$DATE}</strong></td>
      </tr>
      <tr>
        <td colspan="2">{#payment#}<strong> {$PAYMENT_METHOD}</strong></td>
      </tr>
    </table>
  </div>
  {* EOF Überschrift und Anrede *}

  {* BOF Artikelliste und Summenblock *}
  <table class="order_table" cellspacing="0">
    <colgroup>
      <col class="col1">
      <col class="col2">
      <col class="col3">
      <col class="col4">
      <col class="col5">
    </colgroup>
    <tr class="headerrow">
      <th class="ord_table_left">Pos.:</th>
      <th class="ord_table_left">{#head_products#}</th>
      <th class="ord_table_center">{#head_units#}</th>
      <th class="ord_table_right">{#head_single_price#}</th>
      <th class="ord_table_right">{#head_price#}</th>
    </tr>
    {foreach name=aussen item=order_values from=$order_data}
    <tr class="mainrow">
      <td class="ord_table_left">{$order_values@iteration}</td>
      <td class="ord_table_left">
        <strong>{$order_values.PRODUCTS_NAME}</strong>
        <br>{$order_values.PRODUCTS_MODEL} {$order_values.PRODUCTS_ATTRIBUTES_MODEL}
        {if sizeof($order_values.PRODUCTS_ATTRIBUTES_ARRAY) > 0}
        <ul class="attributes_list">
          {foreach key=a_data item=attrib_data from=$order_values.PRODUCTS_ATTRIBUTES_ARRAY}
          <li><strong>{$attrib_data.option}:</strong> {$attrib_data.value}</li>
          {/foreach}
        </ul>
        {/if}
      </td>
      <td class="ord_table_center">{$order_values.PRODUCTS_QTY}</td>
      <td class="ord_table_right">{$order_values.PRODUCTS_SINGLE_PRICE}</td>
      <td class="ord_table_right">{$order_values.PRODUCTS_PRICE}</td>
    </tr>
    {/foreach}
  </table>
  <nobreak>
    <div class="hr_5"></div>
    {if sizeof($order_total) > 0}
    <table class="total_table sum_block">
      <colgroup>
        <col class="col1">
        <col class="col2">
      </colgroup>
      {foreach name=aussen item=order_total_values from=$order_total}
      <tr>
        <td class="ord_table_right">{$order_total_values.TITLE}</td>
        <td class="ord_table_right">{$order_total_values.TEXT}</td>
      </tr>
      {/foreach}
    </table>
    {/if}
  </nobreak>
  <br>
  {* EOF Artikelliste und Summenblock *}

  {* BOF Danketext}
  {if $smarty.config.text_pdf_danketext != ''}
  <nobreak>
    <div class="mt-20">
      {#text_pdf_danketext#}
    </div>
  </nobreak>
  <br>
  {/if}
  { EOF Danketext *}

  {* BOF Zusatztext }
  {if $smarty.config.text_pdf_custom != ''}
  <nobreak>
    <div class="mt-10">
      {#text_pdf_custom#}
    </div>
  </nobreak>
  <br>
  {/if}
  { EOF Zusatztext *}

  {* BOF Steuerinformation *}
  {if isset($vat_info) && $vat_info != 0}
  <nobreak>
    <div class="mt-10">
      {if $vat_info == 2}{#vat_info_2#}{else}{#vat_info#}{/if}
    </div>
  </nobreak>
  <br>
  {/if}
  {* EOF Steuerinformation *}

  {* BOF Kommentare *}
  {if $COMMENTS}
  <nobreak>
    <div>
      <div class="hr_5"></div>
      <div>
        <strong>{#comments#}</strong><br>
        {$COMMENTS}
      </div>
    </div>
  </nobreak>
  <br>
  {/if}
  {* EOF Kommentare *}

  {* BOF Informationen zur Zahlungsart *}
  {if is_array($PAYMENT_INFO) && count($PAYMENT_INFO) > 0}
  <nobreak>
    <div class="hr_5"></div>
    <div class="paymentinfotable">
      {foreach name=aussen item=data from=$PAYMENT_INFO}
      <div class="title"><strong>{$data.title|stripslashes}</strong></div>
      {foreach name=aussen item=info from=$data.fields}
      {if $info.title != ''}<div><strong>{$info.title|stripslashes}</strong><br></div>{/if}
      {if $info.field}<div>{$info.field|stripslashes}</div>{else}<div>&nbsp;</div>{/if}
      {/foreach}
      {/foreach}
    </div>
  </nobreak>
  <br>
  {/if}
  {* EOF Informationen zur Zahlungsart *}

  {* BOF Schlusstext *}
  {if $smarty.config.text_pdf_schlusstext != ''}
  <nobreak>
    <div class="mt-10">
      {#text_pdf_schlusstext#}
    </div>
  </nobreak>
  <br>
  {/if}
  {* EOF Schlusstext *}

  {* BOF QR-Codes *}
  {if $smarty.const.PDFINVOICE_ENABLE_QRCODES == 'true'}
  <nobreak>
    <div class="hr_5"></div>
    <strong>{#qr_head#}</strong><br>
    <table class="qrcodes">
      <tr>
        {foreach name=aussen item=order_values from=$order_data}
          <td style="width: 20%;">
            <div class="qr">
              <qrcode value="{$base_href}/product_info.php?products_id={$order_values.PRODUCTS_ID}" ec="Q" style="width: 25mm;"></qrcode>
              <p>{$order_values.PRODUCTS_NAME}</p>
              {* Anzeige Artikelnummer auskommentiert }<div class="num">{#qr_art_nr#} {$order_values.PRODUCTS_MODEL}</div>{ Ende auskommentieren *}
            </div>
          </td>
          {if $order_values@iteration is div by 5}
          </tr>
            </table>
              </nobreak>
              <nobreak>
            <table class="qrcodes">
            <tr>
          {/if}
        {/foreach}
      </tr>
    </table>
  </nobreak>
  {/if}
  {* EOF QR-Codes *}
</page>